<header>
	<p>Florian Dendorfer</p>

	<div class="icons">
		<a id="themeToggle" class="icon">
			<svg viewBox="0 0 30 30">
				<title>Switch Theme</title>
				<use xlink:href="/icons/circle-half-stroke-solid.svg#main"></use>
			</svg>
		</a>

		<a class="icon" href="https://www.instagram.com/lucky_number_flo/">
			<svg viewBox="0 0 30 30">
				<title>Instagram</title>
				<use xlink:href="/icons/instagram.svg#main"></use>
			</svg>
		</a>

		<a class="icon" href="https://github.com/fdendorfer">
			<svg viewBox="0 0 30 30">
				<title>GitHub</title>
				<use xlink:href="/icons/github.svg#main"></use>
			</svg>
		</a>
	</div>
</header>

<script>
	const theme: string = (() => {
		if (typeof localStorage !== 'undefined' && localStorage.getItem('theme'))
			return localStorage.getItem('theme') as string

		if (window.matchMedia('(prefers-color-scheme: dark)').matches) return 'dark'

		return 'light'
	})()

	if (theme === 'light') document.documentElement.classList.remove('dark')
	else document.documentElement.classList.add('dark')

	window.localStorage.setItem('theme', theme)

	const handleToggleClick = () => {
		const element = document.documentElement
		element.classList.toggle('dark')

		const isDark = element.classList.contains('dark')
		localStorage.setItem('theme', isDark ? 'dark' : 'light')
	}

	document.getElementById('themeToggle')?.addEventListener('click', handleToggleClick)
</script>

<style>
	header {
		height: 50px;
		border-bottom: 1px;
		padding: 0 40px;
		display: flex;
		justify-content: space-between;
		box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2);
	}

	p {
		font-size: 32px;
		margin: 0;
		display: inline-flex;
		align-items: center;
	}

	.icons {
		display: inline-flex;
		align-items: center;
		gap: 15px;
	}
</style>
